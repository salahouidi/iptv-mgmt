# üìÑ Product Requirements Document (PRD)
## Projet : Plateforme de gestion de produits num√©riques (IPTV, Netflix, etc.)

---

## üéØ Objectif
D√©velopper une plateforme web permettant de g√©rer :
- Les plateformes fournisseurs (panels).
- Les produits num√©riques (par dur√©e, prix, stock).
- Les clients (CRM simple).
- Les ventes (gestion du stock, facturation).
- Les rapports financiers (b√©n√©fices, d√©penses, soldes).
- La configuration avanc√©e (param√®tres, notifications, personnalisation).

Technologies pr√©vues :
- **Frontend** : React.js (template UI/UX).
- **Backend** : API REST (Node.js/Express ou √©quivalent).
- **Database** : Cloudflare D1 (SQLite compatible).
- **H√©bergement** : Cloudflare Pages + Workers.

---

## üóÑÔ∏è Base de Donn√©es

### 1. Plateformes (`plateformes`)
| Champ              | Type        | Description |
|--------------------|------------|-------------|
| id_plateforme      | INT (PK)   | Identifiant unique |
| nom                | TEXT       | Nom de la plateforme (ex : DAR IPTV) |
| description        | TEXT       | Description courte |
| url                | TEXT       | Lien du site fournisseur |
| devise             | TEXT       | Devise utilis√©e (DZD, USD, EUR) |
| created_at         | DATETIME   | Date de cr√©ation |
| updated_at         | DATETIME   | Derni√®re modification |

---

### 2. Historique de recharges (`recharges`)
| Champ              | Type        | Description |
|--------------------|------------|-------------|
| id_recharge        | INT (PK)   | Identifiant unique |
| id_plateforme (FK) | INT        | Lien vers plateforme |
| montant            | DECIMAL    | Montant recharg√© en DZD |
| preuve_paiement    | TEXT       | Lien image (upload) |
| statut             | TEXT       | "Pay√©" / "En attente" |
| date_recharge      | DATETIME   | Date de la recharge |

---

### 3. Produits (`produits`)
| Champ                | Type        | Description |
|----------------------|-------------|-------------|
| id_produit           | INT (PK)    | Identifiant unique |
| nom                  | TEXT        | Nom du produit (ex : IPTV 12 mois) |
| categorie            | TEXT        | Cat√©gorie (IPTV, Netflix, Autres) |
| duree                | TEXT        | Dur√©e d‚Äôabonnement (1w, 1m, 3m, 6m, 12m) |
| description          | TEXT        | Description courte |
| id_plateforme (FK)   | INT         | Fournisseur associ√© |
| stock                | INT         | Stock actuel |
| seuil_alerte         | INT         | Seuil de stock bas |
| prix_achat_moyen     | DECIMAL     | Co√ªt moyen |
| marge                | DECIMAL     | % marge |
| prix_vente_calcule   | DECIMAL     | Prix de vente g√©n√©r√© automatiquement |
| created_at           | DATETIME    | Date ajout |

---

### 4. Clients (`clients`)
| Champ          | Type        | Description |
|----------------|-------------|-------------|
| id_client      | INT (PK)    | Identifiant unique |
| nom_complet    | TEXT        | Nom et pr√©nom |
| telephone      | TEXT        | Num√©ro de t√©l√©phone |
| wilaya         | TEXT        | Wilaya |
| email          | TEXT        | Email |
| adresse        | TEXT        | Adresse compl√®te |
| facebook       | TEXT        | Lien Facebook |
| instagram      | TEXT        | Lien Instagram |
| notes          | TEXT        | Remarques diverses |
| created_at     | DATETIME    | Date d‚Äôinscription |

---

### 5. Ventes (`ventes`)
| Champ               | Type        | Description |
|---------------------|-------------|-------------|
| id_vente            | INT (PK)    | Identifiant unique |
| id_plateforme (FK)  | INT         | Fournisseur utilis√© |
| id_produit (FK)     | INT         | Produit vendu |
| id_client (FK)      | INT         | Client associ√© |
| quantite            | INT         | Quantit√© vendue |
| prix_unitaire       | DECIMAL     | Prix unitaire en DZD |
| total               | DECIMAL     | Prix total |
| date_vente          | DATETIME    | Date de la vente |
| methode_paiement    | TEXT        | Esp√®ce, CCP, BaridiMob, etc. |
| statut_paiement     | TEXT        | Pay√© / En attente |
| notes               | TEXT        | Remarques |

---

### 6. Param√®tres (`parametres`)
| Champ               | Type        | Description |
|---------------------|-------------|-------------|
| id_parametre        | INT (PK)    | Identifiant unique |
| marge_defaut        | DECIMAL     | Marge appliqu√©e par d√©faut |
| taux_change         | DECIMAL     | Taux de change march√© noir |
| devise_principale   | TEXT        | DZD par d√©faut |
| theme               | TEXT        | Th√®me appliqu√© |
| langue              | TEXT        | Langue interface |
| notifications       | TEXT        | JSON (alertes, emails) |

---

## ‚öôÔ∏è Fonctionnalit√©s par Module

### 1. Gestion des Plateformes
- Ajout/modification/suppression.
- Recharge avec historique + upload preuve paiement.
- Statistiques globales (total charg√©, pay√©, en attente).

### 2. Produits
- Ajout de produits avec calcul automatique du prix de vente.
- Suivi du stock en temps r√©el.
- Alerte stock bas.

### 3. Clients
- Base de donn√©es clients compl√®te.
- Historique des achats par client.
- Suivi paiements (soldes dus).

### 4. Ventes
- Ajout rapide de ventes.
- S√©lection produit depuis stock.
- Prix unitaire modifiable √† la main.
- Facture / re√ßu automatique.
- Int√©gration avec la fiche client.

### 5. Rapports Financiers
- Rapports : journalier, hebdomadaire, mensuel, annuel.
- Export en **PDF / CSV**.
- D√©tails : total achats, total ventes, b√©n√©fices nets.

### 6. Param√®tres
- Configuration globale (prix, taux change, marges).
- Gestion des cat√©gories produits et p√©riodes.
- Notifications : stock bas, factures impay√©es, etc.
- Interface personnalisable (logo, th√®me, couleurs).

### 7. S√©curit√© & Utilisateurs
- Gestion multi-utilisateurs.
- Droits d‚Äôacc√®s (admin, vendeur).
- Sauvegarde et export de la base.

---

## üìä Statistiques (Dashboards)
- **Accueil Plateformes** : Nb plateformes, montant total recharg√©, dettes en attente.
- **Accueil Produits** : Nb produits, stock total, alertes.
- **Accueil Clients** : Nb clients, top acheteurs, paiements en retard.
- **Accueil Ventes** : Nb ventes du jour, CA total, top produits vendus.

---

## üì§ Livrables
- **Version MVP** avec modules : Plateformes, Produits, Clients, Ventes.
- **Version compl√®te** avec : Rapports financiers, Notifications, Param√®tres avanc√©s.
- **Export PDF/CSV** int√©gr√©.
- **Interface React.js** moderne avec tableau de bord.

---
